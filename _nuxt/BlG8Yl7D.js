import{a as n,B as c}from"./DGMa4gKQ.js";import{m as h}from"./Z1nLE7KB.js";const v=h("movies",{state:()=>({movies:[],hasMoreMovies:!1,error:null,searchQuery:""}),actions:{async loadMovies(o,i,r,t){const e=await n.get(`${c}/movie`,{params:{count:o,page:i,title:r,genre:t}});e.data.length>0?(this.movies.push(...e.data),this.hasMoreMovies=!0):this.hasMoreMovies=!1},clearMovies(){this.movies=[]}},getters:{filteredMovies(o){const r=o.searchQuery.toLowerCase().split(" ").filter(s=>s.trim()),t=new Set,e=[];return r.length===0?e:(o.movies.forEach(s=>{const a=s.title.toLowerCase();r.every(l=>a.includes(l))&&(t.has(s.id)||(t.add(s.id),e.push(s)))}),e.slice(0,5))}}});export{v as u};
