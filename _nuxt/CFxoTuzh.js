import{u as V,_ as A}from"./D0BNCgu7.js";import{e as M,h as R,n as D,g as c,o as e,c as o,b as _,i as s,m as U,r as E,p as F,j as $,k as w,t as k,a as i,w as T,F as L,l as P}from"./C3zKJFoL.js";import{u as I,_ as O}from"./LTsmyBVf.js";import{_ as b}from"./DlAUqK2U.js";import{_ as S}from"./BvbFTMom.js";import{_ as j}from"./DepiASF8.js";import{a as q,b as z}from"./DHLrws4d.js";import"./Djn54pKL.js";import"./BfVeMM1K.js";import"./BlI_j2uv.js";import"./DUECCEaU.js";const G=M({__name:"Cover",async setup(l){let t,r;const{start:v,finish:f}=R(),{data:y,status:p,error:h}=([t,r]=D(async()=>I("randomMovie",async()=>{v();try{const a=V();return await a.fetchMovieRandom(),a.movieRandom}finally{f()}})),t=await t,r(),t),d=c(()=>p.value==="pending"),g=c(()=>y.value);return(a,m)=>{const u=A;return e(),o("div",null,[_(u,{movieProps:s(g),isLoading:s(d),error:s(h)},null,8,["movieProps","isLoading","error"])])}}}),H=b(G,[["__scopeId","data-v-d7956fbb"]]),J=U("movieTop10",{state:()=>({movieTop10:[]}),actions:{async fetchMovieTop10(){const l=await q.get(z);this.movieTop10=l.data}}}),K={class:"container"},Q={key:1,class:"error_global"},W={key:2,class:"wrapper"},X={class:"slide_index"},Y=["src"],Z={key:1,class:"grid"},ee=["src"],oe=M({__name:"Top10Movie",setup(l){const t=E(null),{$viewport:r}=F(),v=c(()=>r.matches("mobile_small")),{start:f,finish:y}=R(),{data:p,status:h,error:d}=I("movieTop10",async()=>{f();try{const m=J();return await m.fetchMovieTop10(),m.movieTop10}finally{y()}}),g=c(()=>h.value==="pending"),a=c(()=>p.value);return(m,u)=>{const N=O,C=S,B=j;return e(),o("div",K,[s(g)?(e(),$(N,{key:0})):w("",!0),s(d)?(e(),o("div",Q," Произошла ошибка при загрузке топ 10 фильмов: "+k(s(d).message),1)):w("",!0),s(p)?(e(),o("div",W,[u[0]||(u[0]=i("h2",null,"Топ 10 фильмов",-1)),_(B,null,{default:T(()=>[s(v)?(e(),o("swiper-container",{key:0,class:"grid",ref_key:"containerRef",ref:t,loop:!0,"slides-per-view":"auto","space-between":40,"slides-offset-before":20},[(e(!0),o(L,null,P(s(a),(n,x)=>(e(),o("swiper-slide",{key:n.id,class:"movie_slide",style:{width:"224px"}},[_(C,{class:"card",to:`/movies/${n.id}`},{default:T(()=>[i("span",X,k(x+1),1),i("img",{class:"movie_poster",src:n.posterUrl,alt:"Poster"},null,8,Y)]),_:2},1032,["to"])]))),128))],512)):(e(),o("div",Z,[(e(!0),o(L,null,P(s(a),(n,x)=>(e(),$(C,{class:"card",to:`/movies/${n.id}`,key:n.id},{default:T(()=>[i("span",null,k(x+1),1),i("img",{class:"movie_poster",src:n.posterUrl,alt:"Poster"},null,8,ee)]),_:2},1032,["to"]))),128))]))]),_:1})])):w("",!0)])}}}),se=b(oe,[["__scopeId","data-v-50f4e98c"]]),te=M({__name:"index",setup(l){return(t,r)=>(e(),o(L,null,[_(H),_(se)],64))}}),ve=b(te,[["__scopeId","data-v-3fa0be28"]]);export{ve as default};
