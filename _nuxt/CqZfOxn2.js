import{_ as D}from"./BFj0EsD6.js";import{a as N,b as O,c as U}from"./DGMa4gKQ.js";import{m as P,e as T,h as V,n as E,g as _,o as e,c as s,b as p,i as o,r as F,p as S,j as $,k as M,t as k,a as c,w as R,F as L,l as I}from"./C-YnghNg.js";import{u as A,_ as j}from"./Bd56QjoD.js";import{_ as b}from"./DlAUqK2U.js";import{_ as q}from"./CvdXPRMt.js";import{_ as z}from"./Bi8zZalu.js";import"./BevZZhuO.js";import"./DsNRa9O5.js";import"./DgfSG4Tv.js";import"./0k0VXm6A.js";const G=P("movieRandom",{state:()=>({movieRandom:{}}),actions:{async fetchMovieRandom(){const r=await N.get(O);this.movieRandom=r.data}}}),H=T({__name:"Cover",async setup(r){let t,i;const{start:u,finish:v}=V(),{data:f,refresh:l,status:h,error:m}=([t,i]=E(async()=>A("randomMovie",async()=>{u();try{const n=G();return await n.fetchMovieRandom(),n.movieRandom}finally{v()}})),t=await t,i(),t),y=_(()=>h.value==="pending"),d=_(()=>f.value);return(n,g)=>{const x=D;return e(),s("div",null,[p(x,{movieProps:o(d),isLoading:o(y),error:o(m),refreshMovie:o(l)},null,8,["movieProps","isLoading","error","refreshMovie"])])}}}),J=b(H,[["__scopeId","data-v-338af7fd"]]),K=P("movieTop10",{state:()=>({movieTop10:[]}),actions:{async fetchMovieTop10(){const r=await N.get(U);this.movieTop10=r.data}}}),Q={class:"container"},W={key:1,class:"error_global"},X={key:2,class:"wrapper"},Y={class:"slide_index"},Z=["src"],ee={key:1,class:"grid"},oe=["src"],se=T({__name:"Top10Movie",setup(r){const t=F(null),{$viewport:i}=S(),u=_(()=>i.matches("mobile_small")),{start:v,finish:f}=V(),{data:l,status:h,error:m}=A("movieTop10",async()=>{v();try{const n=K();return await n.fetchMovieTop10(),n.movieTop10}finally{f()}}),y=_(()=>h.value==="pending"),d=_(()=>l.value);return(n,g)=>{const x=j,C=q,B=z;return e(),s("div",Q,[o(y)?(e(),$(x,{key:0})):M("",!0),o(m)?(e(),s("div",W," Произошла ошибка при загрузке топ 10 фильмов: "+k(o(m).message),1)):M("",!0),o(l)?(e(),s("div",X,[g[0]||(g[0]=c("h2",null,"Топ 10 фильмов",-1)),p(B,null,{default:R(()=>[o(u)?(e(),s("swiper-container",{key:0,class:"grid",ref_key:"containerRef",ref:t,loop:!0,"slides-per-view":"auto","space-between":40,"slides-offset-before":20},[(e(!0),s(L,null,I(o(d),(a,w)=>(e(),s("swiper-slide",{key:a.id,class:"movie_slide",style:{width:"224px"}},[p(C,{class:"card",to:`/movies/${a.id}`},{default:R(()=>[c("span",Y,k(w+1),1),c("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,Z)]),_:2},1032,["to"])]))),128))],512)):(e(),s("div",ee,[(e(!0),s(L,null,I(o(d),(a,w)=>(e(),$(C,{class:"card",to:`/movies/${a.id}`,key:a.id},{default:R(()=>[c("span",null,k(w+1),1),c("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,oe)]),_:2},1032,["to"]))),128))]))]),_:1})])):M("",!0)])}}}),te=b(se,[["__scopeId","data-v-01188187"]]),ne=T({__name:"index",setup(r){return(t,i)=>(e(),s(L,null,[p(J),p(te)],64))}}),fe=b(ne,[["__scopeId","data-v-3fa0be28"]]);export{fe as default};
