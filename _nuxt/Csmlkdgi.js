import{u as M,_ as $}from"./BQqr31bM.js";import{e as k,r as I,g as t,j as o,o as s,c as n,b as _,n as R,p as B,a as i,w as h,F as g,k as x,t as w,m as P}from"./Dg8MPD_X.js";import{_ as T}from"./DlAUqK2U.js";import{_ as C}from"./Bf8G-H8T.js";import{_ as L}from"./CljQtoxh.js";import{a as N,b as D}from"./DHLrws4d.js";import{u as U}from"./TINEzNdg.js";import"./DHxDTm-U.js";import"./0DWBZuH_.js";import"./CSXz465P.js";import"./t2QABOX-.js";const V={key:0},A={key:1},E=k({__name:"cover",setup(l){const c=I(!0),e=M();async function v(){await e.fetchMovieRandom(),c.value=!1}v();const p=t(()=>e.movieTitle||""),f=t(()=>e.moviePlot||""),m=t(()=>e.movieRating||0),b=t(()=>e.movieYear||0),d=t(()=>e.movieGenre||[]),u=t(()=>e.movieRuntime||0),y=t(()=>e.movieBackdrop||""),a=t(()=>e.movieId||0),r=t(()=>e.movieTrailerYouTubeId||"");return(Q,W)=>o(c)?(s(),n("div",V,"Загрузка...")):(s(),n("div",A,[_($,{id:o(a),title:o(p),plot:o(f),rating:o(m),year:o(b),genres:o(d),runtime:o(u),backdrop:o(y),youTubeId:o(r)},null,8,["id","title","plot","rating","year","genres","runtime","backdrop","youTubeId"])]))}}),F=T(E,[["__scopeId","data-v-d524fddc"]]),O=R("movieTop10",{state:()=>({movieTop10:[]}),actions:{async fetchMovieTop10(){const l=await N.get(D);this.movieTop10=l.data}}}),S={class:"container"},Y={class:"wrapper"},j={class:"slide_index"},G=["src"],q={key:1,class:"grid"},z=["src"],H=k({__name:"top10Movie",setup(l){const c=I(null),{$viewport:e}=B(),v=t(()=>e.matches("mobile_small")),p=O(),{data:f}=U("movieTop10",async()=>(await Promise.all([p.fetchMovieTop10()]),p.movieTop10)),m=t(()=>f.value);return(b,d)=>{const u=C,y=L;return s(),n("div",S,[i("div",Y,[d[0]||(d[0]=i("h2",null,"Топ 10 фильмов",-1)),_(y,null,{default:h(()=>[o(v)?(s(),n("swiper-container",{key:0,class:"grid",ref_key:"containerRef",ref:c,loop:!0,"slides-per-view":"auto","space-between":40,"slides-offset-before":20},[(s(!0),n(g,null,x(o(m),(a,r)=>(s(),n("swiper-slide",{key:r,class:"movie_slide",style:{width:"224px"}},[_(u,{class:"card",to:`/movies/${a.id}`},{default:h(()=>[i("span",j,w(r+1),1),i("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,G)]),_:2},1032,["to"])]))),128))],512)):(s(),n("div",q,[(s(!0),n(g,null,x(o(m),(a,r)=>(s(),P(u,{class:"card",to:`/movies/${a.id}`,key:r},{default:h(()=>[i("span",null,w(r+1),1),i("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,z)]),_:2},1032,["to"]))),128))]))]),_:1})])])}}}),J=T(H,[["__scopeId","data-v-3096cb38"]]),K=k({__name:"index",setup(l){return(c,e)=>(s(),n(g,null,[_(F),_(J)],64))}}),_e=T(K,[["__scopeId","data-v-bbf0434f"]]);export{_e as default};
