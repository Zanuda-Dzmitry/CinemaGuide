import{u as C,_ as B}from"./CGJb0bj_.js";import{u as R}from"./yLRiihy4.js";import{e as g,p as L,g as y,j as i,o,c as t,t as k,b as m,n as N,r as A,q as U,a as l,w as h,F as T,k as I,m as V}from"./BBlTMlD1.js";import{_ as w}from"./DlAUqK2U.js";import{_ as D}from"./CehWh-Io.js";import{_ as E}from"./-IxGOsFZ.js";import{a as F,b as O}from"./DHLrws4d.js";import"./Bj1ov12E.js";import"./BDVk-9el.js";import"./LY7BCXx_.js";import"./eOTjZmmt.js";const S={key:0},Y={key:1},j={key:2},q=g({__name:"Cover",async setup(u){let r,p;const{data:e,status:d,error:v}=([r,p]=L(async()=>R("randomMovie",async()=>{const s=C();return await s.fetchMovieRandom(),s})),r=await r,p(),r),f=y(()=>d.value==="pending"),x=y(()=>{var s,c,_,a,n,b,M,$,P;return{id:((s=e.value)==null?void 0:s.movieId)||0,title:((c=e.value)==null?void 0:c.movieTitle)||"",plot:((_=e.value)==null?void 0:_.moviePlot)||"",rating:((a=e.value)==null?void 0:a.movieRating)||0,year:((n=e.value)==null?void 0:n.movieYear)||0,genres:((b=e.value)==null?void 0:b.movieGenre)||[],runtime:((M=e.value)==null?void 0:M.movieRuntime)||0,backdrop:(($=e.value)==null?void 0:$.movieBackdrop)||"",youTubeId:((P=e.value)==null?void 0:P.movieTrailerYouTubeId)||""}});return(s,c)=>{const _=B;return i(f)?(o(),t("div",S,"Загрузка...")):i(v)?(o(),t("div",Y,"Произошла ошибка: "+k(i(v).message),1)):(o(),t("div",j,[m(_,{movieProps:i(x)},null,8,["movieProps"])]))}}}),G=w(q,[["__scopeId","data-v-b6ef354b"]]),z=N("movieTop10",{state:()=>({movieTop10:[]}),actions:{async fetchMovieTop10(){const u=await F.get(O);this.movieTop10=u.data}}}),H={class:"container"},J={class:"wrapper"},K={class:"slide_index"},Q=["src"],W={key:1,class:"grid"},X=["src"],Z=g({__name:"Top10Movie",setup(u){const r=A(null),{$viewport:p}=U(),e=y(()=>p.matches("mobile_small")),d=z(),{data:v}=R("movieTop10",async()=>(await Promise.all([d.fetchMovieTop10()]),d.movieTop10)),f=y(()=>v.value);return(x,s)=>{const c=D,_=E;return o(),t("div",H,[l("div",J,[s[0]||(s[0]=l("h2",null,"Топ 10 фильмов",-1)),m(_,null,{default:h(()=>[i(e)?(o(),t("swiper-container",{key:0,class:"grid",ref_key:"containerRef",ref:r,loop:!0,"slides-per-view":"auto","space-between":40,"slides-offset-before":20},[(o(!0),t(T,null,I(i(f),(a,n)=>(o(),t("swiper-slide",{key:n,class:"movie_slide",style:{width:"224px"}},[m(c,{class:"card",to:`/movies/${a.id}`},{default:h(()=>[l("span",K,k(n+1),1),l("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,Q)]),_:2},1032,["to"])]))),128))],512)):(o(),t("div",W,[(o(!0),t(T,null,I(i(f),(a,n)=>(o(),V(c,{class:"card",to:`/movies/${a.id}`,key:n},{default:h(()=>[l("span",null,k(n+1),1),l("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,X)]),_:2},1032,["to"]))),128))]))]),_:1})])])}}}),ee=w(Z,[["__scopeId","data-v-c55c3d03"]]),oe=g({__name:"index",setup(u){return(r,p)=>(o(),t(T,null,[m(G),m(ee)],64))}}),ue=w(oe,[["__scopeId","data-v-3fa0be28"]]);export{ue as default};
