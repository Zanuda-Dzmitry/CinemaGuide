import{u as R,_ as B}from"./BjlvSHLR.js";import{e as w,p as N,q as L,g as h,j as i,o,c as s,t as T,b as u,l as V,n as A,r as U,s as D,a as l,w as y,F as k,k as $,m as E}from"./DcJiRqe6.js";import{u as C}from"./CKLmvVT8.js";import{_ as x}from"./DlAUqK2U.js";import{_ as F}from"./BceAij2w.js";import{_ as O}from"./DIKKsCaM.js";import{a as S,b as Y}from"./DHLrws4d.js";import"./7k09TKnv.js";import"./BFrfaszf.js";import"./BQkcsrdV.js";import"./DkBQc6gQ.js";const j={key:0},q={key:1},G=w({__name:"Cover",async setup(d){let r,m;const{start:f,finish:v}=N(),{data:e,error:p}=([r,m]=L(async()=>C("randomMovie",async()=>{f();try{const t=R();return await t.fetchMovieRandom(),t}finally{v()}})),r=await r,m(),r),g=h(()=>{var t,c,_,a,n,M,b,I,P;return{id:((t=e.value)==null?void 0:t.movieId)??0,title:((c=e.value)==null?void 0:c.movieTitle)??"",plot:((_=e.value)==null?void 0:_.moviePlot)??"",rating:((a=e.value)==null?void 0:a.movieRating)??0,year:((n=e.value)==null?void 0:n.movieYear)??0,genres:((M=e.value)==null?void 0:M.movieGenre)??[],runtime:((b=e.value)==null?void 0:b.movieRuntime)??0,backdrop:((I=e.value)==null?void 0:I.movieBackdrop)??"",youTubeId:((P=e.value)==null?void 0:P.movieTrailerYouTubeId)??""}});return(t,c)=>{const _=B;return i(p)?(o(),s("div",j,"Произошла ошибка: "+T(i(p).message),1)):i(e)?(o(),s("div",q,[u(_,{movieProps:i(g)},null,8,["movieProps"])])):V("",!0)}}}),z=x(G,[["__scopeId","data-v-0718f772"]]),H=A("movieTop10",{state:()=>({movieTop10:[]}),actions:{async fetchMovieTop10(){const d=await S.get(Y);this.movieTop10=d.data}}}),J={class:"container"},K={class:"wrapper"},Q={class:"slide_index"},W=["src"],X={key:1,class:"grid"},Z=["src"],ee=w({__name:"Top10Movie",setup(d){const r=U(null),{$viewport:m}=D(),f=h(()=>m.matches("mobile_small")),v=H(),{data:e}=C("movieTop10",async()=>(await Promise.all([v.fetchMovieTop10()]),v.movieTop10)),p=h(()=>e.value);return(g,t)=>{const c=F,_=O;return o(),s("div",J,[l("div",K,[t[0]||(t[0]=l("h2",null,"Топ 10 фильмов",-1)),u(_,null,{default:y(()=>[i(f)?(o(),s("swiper-container",{key:0,class:"grid",ref_key:"containerRef",ref:r,loop:!0,"slides-per-view":"auto","space-between":40,"slides-offset-before":20},[(o(!0),s(k,null,$(i(p),(a,n)=>(o(),s("swiper-slide",{key:n,class:"movie_slide",style:{width:"224px"}},[u(c,{class:"card",to:`/movies/${a.id}`},{default:y(()=>[l("span",Q,T(n+1),1),l("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,W)]),_:2},1032,["to"])]))),128))],512)):(o(),s("div",X,[(o(!0),s(k,null,$(i(p),(a,n)=>(o(),E(c,{class:"card",to:`/movies/${a.id}`,key:n},{default:y(()=>[l("span",null,T(n+1),1),l("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,Z)]),_:2},1032,["to"]))),128))]))]),_:1})])])}}}),oe=x(ee,[["__scopeId","data-v-c55c3d03"]]),te=w({__name:"index",setup(d){return(r,m)=>(o(),s(k,null,[u(z),u(oe)],64))}}),de=x(te,[["__scopeId","data-v-3fa0be28"]]);export{de as default};
