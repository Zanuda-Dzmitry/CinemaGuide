import{u as A,_ as E}from"./CQMc6Cxe.js";import{_ as S}from"./VxSXzydV.js";import{_ as V}from"./CX8-tW6c.js";import{u as z}from"./mOJ9PIgg.js";import{o as s,c as o,a as n,e as D,f as G,g as u,r as h,h as P,u as U,i as e,j as k,k as i,t as w,b as d,w as x,F as j,l as H}from"./PMH6_XaV.js";import{_ as R}from"./DlAUqK2U.js";import"./DGMa4gKQ.js";const Z={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 21"};function q(b,t){return s(),o("svg",Z,t[0]||(t[0]=[n("path",{fill:"#FFF",d:"m4.71 10.6 8.25 8.25-2.36 2.36L0 10.6 10.6 0l2.36 2.35z"},null,-1)]))}const J={render:q},K={class:"container"},O={key:1,class:"error_global"},Q={key:2,class:"genre"},T={class:"genre_nav"},W={class:"genre_title"},X={class:"genre_wrapper"},Y={key:0,class:"genre_more-wrapper"},ee=["disabled"],y=15,se=D({__name:"[id]",setup(b){const t=z(),L=G(),r=u(()=>L.params.id),c=h(1),m=h(!0),{start:M,finish:F}=P(),{data:p,status:_,error:v}=A("movies",async()=>{M();try{return await t.loadMovies(y,c.value,"",r.value),t.movies}finally{F()}}),f=u(()=>_.value==="pending"),B=u(()=>p.value);function C(a){return a&&a.charAt(0).toUpperCase()+a.slice(1)}const N=async()=>{m.value&&(_.value="pending",c.value++,await t.loadMovies(y,c.value,"",r.value),_.value="idle")};return U({title:()=>`Жанр: ${r.value}`}),(a,te)=>{const $=E,g=S,I=V;return s(),o("div",K,[e(f)?(s(),k($,{key:0})):i("",!0),e(v)?(s(),o("div",O," Произошла ошибка при загрузки фильмов: "+w(e(v).message),1)):i("",!0),e(p)?(s(),o("section",Q,[n("div",T,[d(g,{class:"genre_nav-link",to:"/genres"},{default:x(()=>[d(e(J))]),_:1}),n("h2",W,w(C(e(r))),1)]),n("div",X,[(s(!0),o(j,null,H(e(B),l=>(s(),k(g,{class:"genre_link",key:l.id,to:`/movies/${l.id}`},{default:x(()=>[d(I,{src:l.posterUrl},null,8,["src"])]),_:2},1032,["to"]))),128))]),e(m)?(s(),o("div",Y,[n("button",{disabled:e(f),class:"genre_more",onClick:N}," Показать еще ",8,ee)])):i("",!0)])):i("",!0)])}}}),le=R(se,[["__scopeId","data-v-b5a1a5f8"]]);export{le as default};
