import{u as N,_ as V}from"./Cjmm_fDl.js";import{u as D,_ as U}from"./CgoCVsUS.js";import{e as C,p as A,q as E,g as d,o as e,c as t,j as s,m as I,l as v,t as T,b as f,F as w,n as F,r as O,s as S,a as u,w as $,k as B}from"./DduXzU7M.js";import{_ as P}from"./DlAUqK2U.js";import{_ as Y}from"./D1OvHB6p.js";import{_ as j}from"./eN0P_z1V.js";import{a as q,b as G}from"./DHLrws4d.js";import"./D5LfhnDM.js";import"./D1cx7Ddn.js";import"./DBmcLFtd.js";import"./CrYemexl.js";const z={key:1},H={key:2},J=C({__name:"Cover",async setup(y){let r,p;const{start:b,finish:M}=A(),{data:o,status:g,error:h}=([r,p]=E(async()=>N("randomMovie",async()=>{b();try{const n=D();return await n.fetchMovieRandom(),n}finally{M()}})),r=await r,p(),r),k=d(()=>g.value==="pending"),L=d(()=>{var n,i,c,_,m,x,a,l,R;return{id:((n=o.value)==null?void 0:n.movieId)??0,title:((i=o.value)==null?void 0:i.movieTitle)??"",plot:((c=o.value)==null?void 0:c.moviePlot)??"",rating:((_=o.value)==null?void 0:_.movieRating)??0,year:((m=o.value)==null?void 0:m.movieYear)??0,genres:((x=o.value)==null?void 0:x.movieGenre)??[],runtime:((a=o.value)==null?void 0:a.movieRuntime)??0,backdrop:((l=o.value)==null?void 0:l.movieBackdrop)??"",youTubeId:((R=o.value)==null?void 0:R.movieTrailerYouTubeId)??""}});return(n,i)=>{const c=V,_=U;return e(),t(w,null,[s(k)?(e(),I(c,{key:0})):v("",!0),s(h)?(e(),t("div",z,"Произошла ошибка: "+T(s(h).message),1)):s(o)?(e(),t("div",H,[f(_,{movieProps:s(L)},null,8,["movieProps"])])):v("",!0)],64)}}}),K=P(J,[["__scopeId","data-v-1649f208"]]),Q=F("movieTop10",{state:()=>({movieTop10:[]}),actions:{async fetchMovieTop10(){const y=await q.get(G);this.movieTop10=y.data}}}),W={class:"container"},X={key:1,class:"error_global"},Z={key:2,class:"wrapper"},ee={class:"slide_index"},oe=["src"],te={key:1,class:"grid"},se=["src"],ae=C({__name:"Top10Movie",setup(y){const r=O(null),{$viewport:p}=S(),b=d(()=>p.matches("mobile_small")),{start:M,finish:o}=A(),{data:g,status:h,error:k}=N("movieTop10",async()=>{M();try{const i=Q();return await i.fetchMovieTop10(),i.movieTop10}finally{o()}}),L=d(()=>h.value==="pending"),n=d(()=>g.value);return(i,c)=>{const _=V,m=Y,x=j;return e(),t("div",W,[s(L)?(e(),I(_,{key:0})):v("",!0),s(k)?(e(),t("div",X," Произошла ошибка: "+T(s(k).message),1)):v("",!0),s(g)?(e(),t("div",Z,[c[0]||(c[0]=u("h2",null,"Топ 10 фильмов",-1)),f(x,null,{default:$(()=>[s(b)?(e(),t("swiper-container",{key:0,class:"grid",ref_key:"containerRef",ref:r,loop:!0,"slides-per-view":"auto","space-between":40,"slides-offset-before":20},[(e(!0),t(w,null,B(s(n),(a,l)=>(e(),t("swiper-slide",{key:a.id,class:"movie_slide",style:{width:"224px"}},[f(m,{class:"card",to:`/movies/${a.id}`},{default:$(()=>[u("span",ee,T(l+1),1),u("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,oe)]),_:2},1032,["to"])]))),128))],512)):(e(),t("div",te,[(e(!0),t(w,null,B(s(n),(a,l)=>(e(),I(m,{class:"card",to:`/movies/${a.id}`,key:a.id},{default:$(()=>[u("span",null,T(l+1),1),u("img",{class:"movie_poster",src:a.posterUrl,alt:"Poster"},null,8,se)]),_:2},1032,["to"]))),128))]))]),_:1})])):v("",!0)])}}}),ne=P(ae,[["__scopeId","data-v-3e4985f3"]]),re=C({__name:"index",setup(y){return(r,p)=>(e(),t(w,null,[f(K),f(ne)],64))}}),ge=P(re,[["__scopeId","data-v-3fa0be28"]]);export{ge as default};
